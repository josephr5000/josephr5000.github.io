<html>
	<head>
		<title>RWGPS Route Rotator.</title>
		<script>
			document.addEventListener("DOMContentLoaded", (e) => {
				const form = document.querySelector("#form");
				form.addEventListener('submit', doRotate);
			});				
			function doRotate(e) {
				e.preventDefault();
				const routeNum = document.querySelector("#routeId").value;
				const url = `https://script.google.com/macros/s/AKfycbzAGQjSxMiLVf_LvIbGKkfeKi1hoqHSHhxcS-1vbdGiJw0VjdDO/exec?routeNumber=${routeNum}`;
				const progress = document.querySelector("#progress");
				progress.innerText = "Rotating your route, please wait.";
				setInterval(()=>progress.innerText += ".", 1250)
				window.location = url;
			}
		</script>
		<style>
			body{font-size: 120%;font-family:Arial,Verdana,Swiss,sans-serif;}
			input{padding: 5px; font-size: 16px; min-width: 10em;}
			button{padding: 5px 15px; font-size: 16px; margin-left: 1em;}
		</style>
	</head>
	<body>
		<h1>RWGPS Route Rotator</h1>
		<p>Enter your RWGPS route ID below, then press Rotate.</p>
		<form action="#" id="form">
			<input type="number" required="required" name="routeId" id="routeId" autofocus="autofocus" />
			<button type="submit">Rotate</button>
		</form>
		<div id="progress" />
	</body>
<html>
 
